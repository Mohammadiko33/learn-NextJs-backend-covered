ุญุชูุงู! ุฏุฑ ุงุฏุงูู ุฑุงูููุง **ุชุณุชโููุณ ุงุฒ ูพุงู** ุจุฑุง ูพุฑูฺูโูุง **Next.js 15** ุจู ููุฑุงู **TypeScript** ู **React** ุฑู ุจู ุฒุจุงู ุณุงุฏู ู ฺฉุงุฑุจุฑุฏ ุจุฑุงุช ููุดุชู:

---

## โ ููุฏููโุง ุจุฑ ุชุณุชโููุณ ุฏุฑ Next.js + TypeScript + React

**ุชุณุชโููุณ (Testing)** ุนู ููุดุชู ฺฉุฏ ุจุฑุง ุงุทููุงู ุงุฒ ุงูฺฉู ฺฉุฏ ุงุตู ุดูุง ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูู.

ุฏุฑ ูพุฑูฺูโูุง ูุซู **Next.js 15** ฺฉู ุงุฒ **React** ู **TypeScript** ุงุณุชูุงุฏู ูโฺฉููุ ุชุณุชโููุณ ุฎู ูููโุชุฑู ฺูู:

* ฺฉุฏ ูพฺุฏูโุชุฑู
* ุงูพูฺฉุดูโูุง ุจุฒุฑฺฏโุชุฑ ุณุงุฎุชู ูโุดู
* ุชูุณุนู ุชู ุงูุฌุงู ูโุดู

---

## ๐งฐ ุงุจุฒุงุฑูุง ููุฑุฏ ูุงุฒ

ุจุฑุง ุชุณุชโููุณ ุฏุฑ ุงู ุชุฑฺฉุจ ุชฺฉููููฺุ ุงุฒ ุงุจุฒุงุฑูุง ุฒุฑ ุงุณุชูุงุฏู ูโฺฉูู:

| ุงุจุฒุงุฑ                           | ฺฉุงุฑุจุฑุฏ                                  |
| ------------------------------- | --------------------------------------- |
| **Jest**                        | ูุฑูโูุฑฺฉ ุชุณุชโููุณ                      |
| **React Testing Library (RTL)** | ุชุณุช ุชุนุงููุงุช ฺฉุงุฑุจุฑ ุฏุฑ ฺฉุงููพูููุชโูุง        |
| **@testing-library/user-event** | ุดุจูโุณุงุฒ ุฑูุชุงุฑ ฺฉุงุฑุจุฑ (ฺฉูฺฉุ ุชุงูพ ู...) |
| **ts-jest**                     | ุงุฌุฑุง ุชุณุชโูุง TypeScript ุจุง Jest        |

---

## ๐งฑ ูุตุจ ุงุจุฒุงุฑูุง

ุฏุฑ ฺฉ ูพุฑูฺู Next.js ุจุง TypeScriptุ ุงู ุฏุณุชูุฑูุง ุฑู ุงุฌุฑุง ฺฉู:

```bash
npm install --save-dev jest @testing-library/react @testing-library/jest-dom @testing-library/user-event ts-jest jest-environment-jsdom
```

ุณูพุณ ฺฉ ูุงู ุชูุธูุงุช `jest.config.ts` ุจุณุงุฒ:

```ts
// jest.config.ts
import type { Config } from 'jest'

const config: Config = {
  testEnvironment: 'jsdom',
  preset: 'ts-jest',
  setupFilesAfterEnv: ['<rootDir>/jest.setup.ts'],
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/$1', // ุงฺฏุฑ alias ุงุณุชูุงุฏู ูโฺฉู
  },
}

export default config
```

ูุงู `jest.setup.ts` ุฑู ูู ุจุณุงุฒ:

```ts
// jest.setup.ts
import '@testing-library/jest-dom'
```

---

## ๐ฆ ุงุณฺฉุฑูพุช ุงุฌุฑุง ุชุณุช ุฏุฑ package.json

```json
"scripts": {
  "test": "jest",
  "test:watch": "jest --watch"
}
```

---

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง

ุฏุฑ ูพุฑูฺูโุงุช ุงู ุณุงุฎุชุงุฑ ูพุดููุงุฏ ุฎูุจู:

```
/src
  /components
    Button.tsx
    __tests__
      Button.test.tsx
```

ุง ุจูโุฌุง ูููุฏุฑ `__tests__` ูโุชูู ุชุณุช ุฑู ุฏุฑ ฺฉูุงุฑุด ุจููุณ:

```
Button.test.tsx
```

---

## ๐งช ูุซุงู ุณุงุฏู: ุชุณุช ฺฉ ฺฉุงููพูููุช

### ฺฉุงููพูููุช `Button.tsx`

```tsx
// src/components/Button.tsx
type ButtonProps = {
  label: string
  onClick: () => void
}

const Button = ({ label, onClick }: ButtonProps) => (
  <button onClick={onClick}>{label}</button>
)

export default Button
```

### ุชุณุช `Button.test.tsx`

```tsx
// src/components/__tests__/Button.test.tsx
import { render, screen } from '@testing-library/react'
import userEvent from '@testing-library/user-event'
import Button from '../Button'

test('ุฏฺฉูู ุจุง ูุชู ุฏุฑุณุช ุฑูุฏุฑ ูโุดูุฏ ู ฺฉูฺฉ ูโุฎูุฑุฏ', async () => {
  const mockFn = jest.fn()
  render(<Button label="ฺฉูฺฉ ฺฉู" onClick={mockFn} />)

  const button = screen.getByText(/ฺฉูฺฉ ฺฉู/i)
  expect(button).toBeInTheDocument()

  await userEvent.click(button)
  expect(mockFn).toHaveBeenCalledTimes(1)
})
```

---

## ๐งช ุชุณุช State ู useEffect

ูุซุงู: ุชุณุช ฺฉ ฺฉุงููพูููุช ฺฉู ุจุง `useEffect` ููุฏุงุฑ state ุฑู ุชุบุฑ ูโุฏู:

```tsx
// src/components/Loader.tsx
import { useEffect, useState } from 'react'

const Loader = () => {
  const [loaded, setLoaded] = useState(false)

  useEffect(() => {
    const timer = setTimeout(() => setLoaded(true), 500)
    return () => clearTimeout(timer)
  }, [])

  return <div>{loaded ? 'Loaded' : 'Loading...'}</div>
}

export default Loader
```

ุชุณุช:

```tsx
// src/components/__tests__/Loader.test.tsx
import { render, screen, waitFor } from '@testing-library/react'
import Loader from '../Loader'

test('ููุงุด ุญุงูุช ููุฏูฺฏ ู ุณูพุณ ููุฏ ุดุฏู', async () => {
  render(<Loader />)
  expect(screen.getByText(/loading/i)).toBeInTheDocument()

  await waitFor(() => {
    expect(screen.getByText(/loaded/i)).toBeInTheDocument()
  })
})
```

---

## ๐ ุชุณุช ูพูุดุด ฺฉุฏ (Code Coverage)

ุจุฑุง ุฏุฏู ูุฒุงู ูพูุดุด ุชุณุชโูุงุ ุงู ุฏุณุชูุฑ ุฑู ุงุฌุฑุง ฺฉู:

```bash
npm run test -- --coverage
```

ุฎุฑูุฌ ูุฒุงู ูพูุดุด ูุงูโูุง (line, function, branch, statement) ุฑู ูุดูู ูโุฏู.

---

## ๐ง ุงููุงุน ุชุณุชโูุง ุฏุฑ Next.js

| ููุน ุชุณุช              | ุชูุถุญ                                                       |
| -------------------- | ----------------------------------------------------------- |
| **Unit Test**        | ุชุณุช ุงุฌุฒุง ฺฉูฺฺฉ ูุซู ฺฉ ุชุงุจุน ุง ฺฉ ฺฉุงููพูููุช ุณุงุฏู              |
| **Integration Test** | ุชุณุช ุชุนุงูู ุจู ฺูุฏ ฺฉุงููพูููุช ุง ฺฉุงููพูููุช ู API                |
| **E2E Test**         | ุชุณุช ฺฉู ุฑูุชุงุฑ ุงูพูฺฉุดู ุชูุณุท ฺฉุงุฑุจุฑ (ุจุง ุงุจุฒุงุฑูุง ูุซู Cypress) |
| **Snapshot Test**    | ููุงุณู ุฎุฑูุฌ DOM ูุนู ุจุง ูุณุฎู ุฐุฎุฑูโุดุฏู                     |
| **Static Analysis**  | ุจุฑุฑุณ ุฎุทุงูุง ฺฉุฏููุณ ุจุง ESLint ู TypeScript                 |

---

## ๐ ูฺฉุงุช ููู

* ุงุฒ ุจุฎุดโูุง ุญุณุงุณ ูพุฑูฺู ุชุณุช ุฑู ุดุฑูุน ฺฉู.
* ููุท ฺฉุฏ ุฎูุฏุช ุฑู ุชุณุช ฺฉูุ ูู ฺฉุชุงุจุฎุงููโูุง ุฏฺฏุฑุงู.
* ุจู ุฌุง ุชุณุช ุฏุงุฎู ุชุงุจุนุ ุฑูุชุงุฑ ุฎุฑูุฌ ุฑู ุชุณุช ฺฉู.
* ุจุฑุง props ู ุฏุงุฏูโูุงุ ุงุฒ Mock Data ุงุณุชูุงุฏู ฺฉู.

---

## โ ุฌูุนโุจูุฏ

* ุชุณุชโููุณ ุฏุฑ Next.js + TypeScript + React ุณุงุฏู ู ูุฏุฑุชููุฏู.
* ุงุฒ Jest + RTL ุจุฑุง ุชุณุช ููุช ู ุชุนุงููุงุช ุงุณุชูุงุฏู ฺฉู.
* ุจุฑุง ุชุณุช ุฌุงูุนโุชุฑ (E2E) ุงุจุฒุงุฑูุง ูุซู Cypress ุฑู ุงุถุงูู ฺฉู.
* ูพูุดุด ุชุณุช ุจุงูุง ุนู ุงุนุชูุงุฏ ุจุดุชุฑ ุจู ฺฉุฏุช ๐ช

---

ุงฺฏุฑ ุฎูุงุณุช ูโุชููู ฺฉ ูพุฑูฺู ูููููโ ฺฉุงูู ุชุณุชโููุณ ุดุฏู ุจุฑุงุช ุจุณุงุฒู ุง ุฎุฑูุฌ PDF ุงู ุฑุงูููุง ุฑู ุขูุงุฏู ฺฉูู. ุจฺฏ ฺฉุฏููู ูโุฎูุงุ


---

### โ **ุชุณุช ููุณ ุฏุฑ ุฑโุงฺฉุช ฺุณุชุ**

ุชุณุช ููุณ ูุฑุขูุฏ ุงุณุช ุจุฑุง ุงุทููุงู ุงุฒ ุงูฺฉู ุจุฎุดโูุง ูุฎุชูู ุงูพูฺฉุดู ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉููุฏ. ุฏุฑ Reactุ ุงู ฺฉุงุฑ ุจู ฺฉูฺฉ ุงุจุฒุงุฑูุง ูุซู **Jest** ู **React Testing Library** ุงูุฌุงู ูโุดูุฏ.

---

### ๐ฏ **ุฏูุงู ุงููุช ุชุณุช ููุณ:**

* ุงุทููุงู ุงุฒ ุนููฺฉุฑุฏ ุตุญุญ ฺฉุงููพูููุชโูุง
* ุฌููฺฏุฑ ุงุฒ ุจุฑูุฒ ุจุงฺฏ ุฏุฑ ุขูุฏู
* ฺฉุงูุด ูุฒูู ูฺฏูุฏุงุฑ
* ุตุฑููโุฌู ุฏุฑ ุฒูุงู ุชูุณุนู

---

### ๐งช **ฺู ฺุฒูุง ุฏุฑ React ุชุณุช ูโุดูุ**

* ุฑูุฏุฑ ุดุฏู ุตุญุญ ฺฉุงููพูููุชโูุง (ุจุง ุง ุจุฏูู props)
* ุชุบุฑุงุช state ู re-render ุดุฏู
* ุชุนุงูู ฺฉุงุฑุจุฑ (ฺฉูฺฉุ ุชุงูพ ู...)
* ุฑูุฏุฑ ุดุฑุท ฺฉุงููพูููุชโูุง
* ุฏุงุฏูโูุง ุฏุฑุงูุช ุงุฒ ุณุฑูุฑ (ุจุง ุงุณุชูุงุฏู ุงุฒ Mock Data)

---

### ๐ซ **ฺู ฺุฒูุง ุฑุง ูุจุงุฏ ุชุณุช ฺฉุฑุฏุ**

* ุนููฺฉุฑุฏ ุฏูู ุชูุงุจุน ุฏุงุฎู (ููุท ุจุฑุฑุณ ุฑูุชุงุฑ ฺฉู ฺฉุงูุณุช)
* ฺฉุชุงุจุฎุงููโูุง ุดุฎุต ุซุงูุซ (ูุซู Axios)

---

### ๐งฐ **ุงุจุฒุงุฑูุง ููุฑุฏ ูุงุฒ ุชุณุช ุฏุฑ ุฑโุงฺฉุช:**

* **Jest** (ุจุฑุง ุงุฌุฑุง ุชุณุชโูุง)
* **React Testing Library** (ุจุฑุง ุชุณุช ุฑูุชุงุฑ ฺฉุงุฑุจุฑ)
* **User Event Library** (ุจุฑุง ุดุจูโุณุงุฒ ุฑูุชุงุฑ ฺฉุงุฑุจุฑ)
* (ุฏุฑ ุชุณุชโูุง ูพุดุฑูุชูโุชุฑ) **Cypress** ุจุฑุง E2E

---

### ๐ **ูุฑุงุญู ุขูุงุฏูโุณุงุฒ ุชุณุช ุฏุฑ ูพุฑูฺู React:**

1. ุงุฌุงุฏ ูพุฑูฺู ุจุง `create-react-app`
2. ุงุทููุงู ุงุฒ ูุตุจ ูพฺฉุฌโูุง ุชุณุช ุฏุฑ `package.json`
3. ุงุถุงูู ฺฉุฑุฏู ูุงู `setupTests.js`
4. ุชูุธู ุฏุณุชูุฑ ุงุฌุฑุง ุชุณุช ุฏุฑ ุจุฎุด `scripts`

---

### ๐ **ุณุงุฎุชุงุฑ ุชุณุชโูุง:**

* ูุงู ูุงู ุชุณุช ุจุงุฏ ุจุง `.test.js` ุง `.test.jsx` ุชูุงู ุดูุฏ.
* ุชุณุชโูุง ุจุง ุชุงุจุน `test()` ุง `it()` ุชุนุฑู ูโุดููุฏ.
* ุงุฒ `render()` ุจุฑุง ุฑูุฏุฑ ฺฉุงููพูููุช
* ุงุฒ `screen` ุจุฑุง ุฌุณุชุฌู ุนูุงุตุฑ ุฏุฑ DOM
* ุงุฒ `expect()` ุจุฑุง ููุดุชู ุงุฏุนุงูุง

---

### ๐ **ุงููุงุน ุชุณุช ุฏุฑ React:**

* **Unit Test**: ุชุณุช ุงุฌุฒุง ฺฉูฺฺฉ (ุชุงุจุนุ ฺฉุงููพูููุช)
* **Integration Test**: ุชุณุช ุชุนุงูู ุจู ฺูุฏ ุจุฎุด
* **Functional Test**: ุชุณุช ุฎุฑูุฌ ูุดุฎุต ุงุฒ ฺฉ ุฑูุชุงุฑ
* **E2E Test**: ุดุจูโุณุงุฒ ุฑูุชุงุฑ ูุงูุน ฺฉุงุฑุจุฑ
* **Snapshot Test**: ููุงุณู ุฎุฑูุฌ ูุนู ุจุง ุงุณููพโุดุงุช ุฐุฎุฑูโุดุฏู
* **Static Analysis**: ุจุฑุฑุณ ูุดฺฉูุงุช ฺฉุฏ ุจุง ุงุจุฒุงุฑูุง ูุซู ESLint

---

### ๐ก **ูฺฉุงุช ููู ุฏุฑ ุชุณุช ููุณ:**

* ูุฏู ุงุฒ ุชุณุช ุจุงุฏ ูุดุฎุต ุจุงุดุฏ (ุชุณุช ุนููฺฉุฑุฏุ ุชุณุช ุฑุงุจุท ฺฉุงุฑุจุฑุ ...)
* ุงุฒ ุจุฎุดโูุง ุญุณุงุณ ุงูพ ุดุฑูุน ฺฉูุฏ.
* ููุท ฺุฒูุง ฺฉู **ูโุณุงุฒุฏ** ุฑุง ุชุณุช ฺฉูุฏุ ูู ฺุฒูุง ฺฉู ุงุฒ ุจุฑูู ูุงุฑุฏ.
* Mock Data ุณุงุฏู ู ฺฉูโุญุฌู ุจุณุงุฒุฏ.
* ูุทูุฆู ุดูุฏ ฺฉู ฺฉุฏ ุดูุง ุจุง ุชุณุช ฺฉุงููุงู **ูพูุดุด ุฏุงุฏู ุดุฏู**.

---

### ๐งญ ุฌูุนโุจูุฏ ููุง:

ุชุณุช ููุณ ุฏุฑ ุฑโุงฺฉุช ุจุฑุฎูุงู ุชุตูุฑุ ฺฉุงุฑ ูพฺุฏูโุง ูุณุช. ุจุง ุงุจุฒุงุฑูุง ููุงุณุจ ู ุงุฏฺฏุฑ ุงุตููุ ูโุชููุฏ ุจู ุฑุงุญุช ฺฉุฏูุง ูุงุจู ุงุทููุงู ู ุจุฏูู ุจุงฺฏ ุชููุฏ ฺฉูุฏ.

> **ูุฏู ููุง ุชุณุช ููุณ = ุงุทููุงู ุงุฒ ุนููฺฉุฑุฏ ุตุญุญ ฺฉุฏ ู ุงูุฒุงุด ฺฉูุช ูุฑูโุงูุฒุงุฑ**